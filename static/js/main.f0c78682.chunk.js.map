{"version":3,"sources":["utils/constants.js","utils/api.js","images/gif/preloaderProfileImg.gif","images/logo.svg","components/MenuMobile.js","components/Header.js","contexts/CurrentUserContext.js","components/mesto/main/Card.js","images/icons/profile-btn-edit.svg","contexts/cardListContext.js","contexts/logicsAllPopups.js","components/mesto/main/Main.js","components/Footer.js","components/popups/ImagePopup.js","components/popups/PopupWithForm.js","contexts/validationFormContext.js","components/popups/EditProfilePopup.js","components/popups/EditAvatarPopup.js","components/popups/AddPlacePopup.js","components/popups/ConfirmRemove.js","components/mesto/Mesto.js","images/icons/auth-success-popup.svg","images/icons/auth-error-popup.svg","components/popups/InfoTooltip.js","components/auth/Auth.js","components/auth/register/Register.js","components/auth/login/Login.js","utils/auth.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["apiServeAuth","reg","login","checkToken","appUrl","CONECT_SERVER","TOKEN","COHORT_ID","PATHS","user","cards","cardLikes","baseUrl","headers","paths","this","res","ok","json","Promise","reject","status","path","fetch","then","_checkResponse","method","body","JSON","stringify","dataItem","_serverConnectionGet","name","about","_serverConnectionSend","link","cardId","_serverConnectionEdit","avatarUrl","avatar","authorization","MenuMobile","signOut","activeMenu","className","style","display","localStorage","getItem","to","color","onClick","Header","loggedIn","useState","screenWidth","setScreenWidth","setActiveMenu","url","useRouteMatch","useEffect","checkSizeWindow","window","screen","width","addEventListener","removeEventListener","toggleClass","target","src","logo","alt","type","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","owner","likes","_id","useContext","length","some","like","CardListContext","LogicsAllPopups","Main","cardList","onEditAvatar","handleEditAvatarClick","onEditProfile","handleEditProfileClick","onAddPlace","handleAddPlaceClick","handleCardClick","handleDeleteCardClick","backgroundImage","profileEditImg","map","Footer","ImagePopup","nameSelector","isOpen","isShowPopupImg","onClose","closeAllPopups","selectedCard","e","classList","contains","PopupWithForm","title","children","onSubmit","buttonText","loading","ValidationFormContext","validationObj","minLength","maxLength","item","fieldType","startsWith","validetionUrl","validation","value","lengthIsValid","fieldTypeValid","EditProfilePopup","onUpdateUser","profileName","profileDoes","profileValue","setProfileValue","isValidProfileName","setValidProfileName","isValidProfileDoes","setValidProfileDoes","isEditAvatarPopupOpen","handleChange","state","previousValue","Object","assign","preventDefault","id","placeholder","required","onChange","borderBottom","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","isEditProfilePopupOpen","current","ref","AddPlacePopup","placeName","setPlaceName","placeImg","setPlaceImg","isValidPlaceName","setValidPlaceName","isValidPlaceUrl","setValidPlaceUrl","isAddPlacePopupOpen","ConfirmRemove","onRemoveCard","isConfirmPoppup","Mesto","setStateUser","setStateCards","isLoadingData","setIsLoadingData","cardRemove","idCard","Api","deleteLike","newCard","previousCard","catch","err","console","error","putAppendLike","addLike","patchUpdateProfile","newUser","finally","patchUpdateUserAvatar","postAddCard","deleteCard","filter","InfoTooltip","authIn","messagePopup","isConfirmAuthPoppup","iconSuccess","iconErr","Auth","titleAuth","Register","submitFormReg","authEmail","authPassword","fieldValue","setFieldValue","regIn","setRegIn","setValueFields","prevState","Login","submitForm","logIn","setLogIn","getResponceServe","ProtectedRoute","Сomponent","component","props","App","gifPreloader","currentUser","setCurrentUser","setCardList","all","getInitialUser","getInitialCards","setselectedCard","setEditAvatarPopupOpen","setEditProfilePopupOpen","setAddPlacePopupOpen","setShowPopupImg","setConfirmPoppup","setConfirmAuthPoppup","setCardRemove","setLoggedIn","history","useHistory","handAuthClick","token","checkTokenApi","data","email","setItem","push","closePopupTouchEsc","key","document","popups","Provider","removeItem","dataReg","password","setTimeout","rej","dataLogin","message","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wPAYMA,EACW,gCADXA,EAEG,CACLC,IAAK,SACLC,MAAO,SACPC,WAAY,YAIVC,EAAS,eCpBRC,EDCU,oCCDKC,EDEb,uCCFoBC,EDGhB,YCH2BC,EDI/B,CACLC,KAAM,WACNC,MAAO,QACPC,UAAW,e,kICkFA,M,WAjFb,cAAkE,IAArDC,EAAoD,EAApDA,QAASC,EAA2C,EAA3CA,QAA2C,IAAlCC,MAAQL,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,UAAa,iTAC/D,YAAAI,KAAA,MAAgBH,EAChB,YAAAG,KAAA,MAAgBF,EAChB,YAAAE,KAAA,MAAiBN,EACjB,YAAAM,KAAA,MAAkBL,EAClB,YAAAK,KAAA,MAAkBJ,E,kDAGpB,SAAeK,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,kCAGvC,SAAqBC,GACnB,OAAOC,MAAM,GAAD,mBAAIR,KAAJ,kBAAqBO,GAAQ,CACvCT,QAAQ,YAACE,KAAF,QAERS,KAAKT,KAAKU,kB,mCAGb,SAAsBH,EAAMI,EAAQC,GAClC,OAAOJ,MAAM,GAAD,mBAAIR,KAAJ,kBAAqBO,GAAQ,CACvCI,SACAb,QAAQ,YAACE,KAAF,MACPY,KAAMC,KAAKC,UAAUF,KAEtBH,KAAKT,KAAKU,kB,mCAGb,SAAsBH,EAAMI,EAAQI,GAClC,OAAOP,MAAM,GAAD,mBAAIR,KAAJ,kBAAqBO,EAArB,YAA6BQ,GAAY,CACnDJ,SACAb,QAAQ,YAACE,KAAF,QAERS,KAAKT,KAAKU,kB,6BAKb,WACE,OAAOV,KAAKgB,qBAAL,YAA0BhB,KAA1B,S,4BAGT,WACE,OAAOA,KAAKgB,qBAAL,YAA0BhB,KAA1B,S,gCAGT,SAAmBiB,EAAMC,GACvB,OAAOlB,KAAKmB,sBAAL,YAA2BnB,KAA3B,MAA2C,QAAS,CACzDiB,OACAC,Y,yBAIJ,SAAYD,EAAMG,GAChB,OAAOpB,KAAKmB,sBAAL,YAA2BnB,KAA3B,MAA4C,OAAQ,CACzDiB,OACAG,W,wBAKJ,SAAWC,GACT,OAAOrB,KAAKsB,sBAAL,YAA2BtB,KAA3B,MAA4C,SAAUqB,K,2BAG/D,SAAcA,GACZ,OAAOrB,KAAKsB,sBAAL,YAA2BtB,KAA3B,MAA4C,MAAOqB,K,wBAG5D,SAAWA,GACT,OAAOrB,KAAKsB,sBAAL,YAA2BtB,KAA3B,MAA4C,SAAUqB,K,mCAG/D,SAAsBE,GACpB,OAAOvB,KAAKmB,sBAAL,sBAA8BnB,KAA9B,iBAAuD,QAAS,CAACwB,OAAQD,Q,KAIrE,CAAQ,CACrB1B,QAAQ,GAAD,OAAKP,EAAL,YAAsBE,GAC7BM,QAAS,CACP2B,cAAelC,EACf,eAAgB,oBAElBQ,MAAON,IChGM,MAA0B,gD,QCA1B,MAA0B,iC,OCiB1BiC,MAbf,YAA8C,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,WAC7B,OACE,sBAAKC,UAAWD,EAAa,iCAAmC,cAAhE,UACE,mBAAGC,UAAU,mCAAmCC,MAAO,CAAEC,QAASH,EAAa,QAAU,QAAzF,SACGI,aAAaC,QAAQ,WAExB,cAAC,IAAD,CAAMC,GAAE,UAAK7C,EAAL,WAAsBwC,UAAU,sCAAsCC,MAAO,CAAEK,MAAO,WAAaC,QAAST,EAApH,gDCuESU,MAzEf,YAAwC,IAAtBC,EAAqB,EAArBA,SAAUX,EAAW,EAAXA,QAC1B,EAAsCY,mBAAS,MAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAoCF,oBAAS,GAA7C,mBAAOX,EAAP,KAAmBc,EAAnB,KAEQC,EAAQC,cAARD,IAERE,qBAAU,WAER,IAAMC,EAAkB,WACtBL,EAAeM,OAAOC,OAAOC,QAG/B,GAAIX,EAIF,OAFAQ,SACAC,OAAOG,iBAAiB,SAAUJ,GAGpCC,OAAOI,oBAAoB,SAAUL,KACpC,CAACR,IAEJ,IAAMc,EAAc,WAClBV,GAAed,IAoCjB,OACE,qCAEE,cAAC,EAAD,CAAYD,QAAUA,EAAUC,WAAaA,IAC7C,yBAAQC,UAAU,4CAAlB,UACE,cAAC,IAAD,CAAMK,GAAE,UAAK7C,EAAL,UAAqBgE,OAAO,QAAQxB,UAAU,eAAtD,SACE,qBAAKyB,IAAKC,EAAMC,IAAI,sEAAe3B,UAAU,mBAtC/Cc,IAAG,UAAQtD,EAAR,WACE,cAAC,IAAD,CAAM6C,GAAE,UAAK7C,EAAL,WAAsBwC,UAAU,oBAAxC,4CAIAc,IAAG,UAAQtD,EAAR,WACH,cAAC,IAAD,CAAM6C,GAAE,UAAK7C,EAAL,WAAsBwC,UAAU,oBAAxC,qFADJ,EAQDS,GAAYE,EAAc,MAE1B,wBAAQiB,KAAK,SAAS5B,UAAWD,EAAa,iDAAmD,sBAAuBQ,QAASgB,IAG5Hd,EAEL,qCACE,mBAAGT,UAAU,gBAAb,SACGG,aAAaC,QAAQ,WAExB,cAAC,IAAD,CAAMC,GAAE,UAAK7C,EAAL,WAAsBwC,UAAU,oBAAoBC,MAAO,CAAEK,MAAO,WAAaC,QAAST,EAAlG,oDAND,SClDI+B,EAAqBC,IAAMC,gBCoDzBC,MAjDf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAErCC,EAA6BJ,EAA7BI,MAAO9C,EAAsB0C,EAAtB1C,KAAMH,EAAgB6C,EAAhB7C,KAAMkD,EAAUL,EAAVK,MAGnBC,EAAQC,qBAAWX,GAAnBU,IA0BR,OAEE,aADA,CACA,MAAIvC,UAAU,cAAd,SACE,sBAAKA,UAAU,aAAf,UACE,wBAAQA,UA1BLqC,EAAME,MAAQA,EAAM,yBAA2B,6DA0BVhC,QAAS,kBAAM6B,EAAaH,MACpE,qBAAKR,IAAKlC,EAAMoC,IAAKvC,EAAMY,UAAU,kBAAkBO,QAb3C,WAChB2B,EAAY9C,EAAMG,MAad,oBAAIS,UAAU,oBAAd,SACCZ,IAED,sBAAKY,UAAU,oBAAf,UACA,wBAAQA,UA1BRsC,EAAMG,OAAS,GAEDH,EAAMI,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQA,KAC/B,mDAEZ,uBAqB6BX,KAAK,SAASrB,QAdnC,WACf4B,EAAWF,MAcP,sBAAMjC,UAAU,sBAAhB,SAAwCsC,EAAMG,kBC/CvC,MAA0B,6CCE5BG,EAAkBd,IAAMC,gBCAxBc,EAAkBf,IAAMC,gBCyDtBe,MAhDf,YAA+B,IAAfX,EAAc,EAAdA,WAGd,EAAgCK,qBAAWX,GAAnClC,EAAR,EAAQA,OAAQN,EAAhB,EAAgBA,MAAOD,EAAvB,EAAuBA,KACjB2D,EAAWP,qBAAWI,GAC5B,EAMIJ,qBAAWK,GALUG,EADzB,EACEC,sBACwBC,EAF1B,EAEEC,uBACqBC,EAHvB,EAGEC,oBACiBnB,EAJnB,EAIEoB,gBACuBlB,EALzB,EAKEmB,sBAIF,OACE,uBAAMvD,UAAU,UAAhB,UACE,0BAASA,UAAU,oDAAnB,UACE,sBAAKA,UAAU,yBAAf,UACE,qBAAKyB,IAAK9B,EAAQgC,IAAI,6CAAU3B,UAAU,eAAeC,MAAO,CAACuD,gBAAgB,OAAD,OAAS7D,EAAT,QAChF,qBAAK8B,IAAKgC,EAAgB9B,IAAI,4HAAwB3B,UAAU,oBAAoBO,QAAS2C,OAE/F,sBAAKlD,UAAU,iBAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,oBAAIA,UAAU,sBAAd,SAAqCX,IACrC,mBAAGW,UAAU,yBAAb,SAAuCZ,OAEzC,wBAAQY,UAAU,oBAAoB4B,KAAK,SAASrB,QAASyC,OAE/D,wBAAQhD,UAAU,0BAA0B4B,KAAK,SAASrB,QAAS6C,OAErE,yBAASpD,UAAU,gDAAnB,SACE,oBAAIA,UAAU,cAAd,SAEI+C,EAASN,OAAS,EAClBM,EAASW,KAAI,SAAAzB,GACX,OACE,cAAC,EAAD,CAAqBA,KAAMA,EAAMC,YAAaA,EAAaC,WAAYA,EAAYC,aAAcA,GAAtFH,EAAKM,QAInB,qBAAKvC,UAAU,0BCzCb2D,MAVf,WACI,OACE,wBAAQ3D,UAAU,4CAAlB,SACE,mBAAGA,UAAU,yBAAb,uCCiCO4D,MA/Bf,YAAuC,IAAjBC,EAAgB,EAAhBA,aAGpB,EAIIrB,qBAAWK,GAHGiB,EADlB,EACEC,eACgBC,EAFlB,EAEEC,eAFF,IAGEC,aAAgB9E,EAHlB,EAGkBA,KAAMG,EAHxB,EAGwBA,KAUxB,OACE,qBAAKS,UAAY8D,EAAD,gBAA6CD,EAA7C,iCAAmBA,GAAuDtD,QAR9D,SAAA4D,GAExBA,EAAE3C,OAAO4C,UAAUC,SAAS,iBAC9BL,KAKF,SACE,sBAAKhE,UAAU,+CAAf,UACE,wBAAQA,UAAU,aAAa4B,KAAK,SAASrB,QAASyD,IACtD,yBAAQhE,UAAU,uBAAlB,UACE,qBAAKyB,IAAKlC,EAAMS,UAAU,aAAa2B,IAAKvC,IAC5C,4BAAYY,UAAU,kBAAtB,SACGZ,aCCEkF,MA7Bf,YAAkG,IAA1EC,EAAyE,EAAzEA,MAAOnF,EAAkE,EAAlEA,KAAM0E,EAA4D,EAA5DA,OAAQE,EAAoD,EAApDA,QAASQ,EAA2C,EAA3CA,SAAUC,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,QAQpF,OACE,mCACE,qBAAK3E,UAAY8D,EAAD,gBAAqC1E,EAArC,iCAAmBA,GAAuCmB,QARhD,SAAA4D,GACxBA,EAAE3C,OAAOxB,YAAT,gBAAgCZ,EAAhC,kBACF4E,KAMA,SACE,sBAAKhE,UAAU,mBAAf,UACE,wBAAQA,UAAU,aAAa4B,KAAK,SAASrB,QAASyD,IACtD,uBAAMhE,UAAU,cAAcZ,KAAMA,EAAMqF,SAAUA,EAApD,UACE,oBAAIzE,UAAU,oBAAd,SACGuE,IAEFC,EAED,wBAAQxE,UAAU,qCAAqC4B,KAAK,SAA5D,SACG+C,EAAO,UAAMD,EAAN,OAAwBA,eClBjCE,EAAwB7C,0BAM/B8C,EAAgB,CACpBpC,OAAQ,SAACqC,EAAWC,EAAWC,GAC7B,GAAIF,EAAY,EACd,OAAOE,EAAKvC,OAASqC,GAAaE,EAAKvC,OAASsC,GAGpDE,UAAW,SAACrD,EAAMoD,GAChB,OAAQpD,GACN,IAAK,MAAO,OAZI,SAAAoD,GACpB,OAAOA,EAAKE,WAAW,YAWAC,CAAcH,GACjC,QAAS,OAAO,KAKTI,EAAa,SAACC,GAAgE,IAAzDP,EAAwD,uDAA5C,EAAGC,EAAyC,uDAA7B,IAAOE,EAAsB,wDAMxF,OALAJ,EAAcS,cAAgBT,EAAcpC,OAAOqC,EAAWC,EAAWM,GACzER,EAAcU,eAAiBV,EAAcI,UAAUA,EAAWI,MAI3DR,EAAcS,gBAAiBT,EAAcU,iBCmDvCC,MAvEf,YAAsD,IAA1BC,EAAyB,EAAzBA,aAAcd,EAAW,EAAXA,QACxC,EAAwCjE,mBAAS,CAC/CgF,YAAa,GACbC,YAAa,KAFf,mBAAOC,EAAP,KAAqBC,EAArB,KAIOH,EAA4BE,EAA5BF,YAAaC,EAAeC,EAAfD,YAEpB,EAAkDjF,oBAAS,GAA3D,mBAAOoF,EAAP,KAA2BC,EAA3B,KACA,EAAkDrF,oBAAS,GAA3D,mBAAOsF,EAAP,KAA2BC,EAA3B,KAGA,EAAwBzD,qBAAWX,GAA3BxC,EAAR,EAAQA,MAAOD,EAAf,EAAeA,KACTgG,EAAa5C,qBAAWoC,GAC9B,EAGIpC,qBAAWK,GAFUiB,EADzB,EACEoC,sBACgBlC,EAFlB,EAEEC,eAKFjD,qBAAU,WAEH8C,GACH+B,EAAgB,CACdH,YAAarG,EACbsG,YAAavG,MAGhB,CAACC,EAAOD,EAAM0E,IAEjB9C,qBAAU,WACR,IAAM8E,EAAqBV,EAAWQ,EAAaF,YAAa,EAAG,IAC7DM,EAAqBZ,EAAWQ,EAAaD,YAAa,EAAG,KAGnEI,EAAoBD,GACpBG,EAAoBD,KACnB,CAACJ,EAAcR,IAGlB,IAAMe,EAAe,SAAAhC,GACnB0B,GAAgB,SAAAO,GACd,IAAMC,EAAgBC,OAAOC,OAAO,GAAIH,GAExC,OADAC,EAAclC,EAAE3C,OAAOpC,MAAQ+E,EAAE3C,OAAO6D,MACjCgB,MAUX,OACE,cAAC,EAAD,CAAe9B,MAAO,4HAAyBnF,KAAM,qBAAsB0E,OAAQA,EAAQE,QAASA,EAASS,SAP1F,SAAAN,GACnBA,EAAEqC,iBAEFf,EAAaG,IAIwHlB,WAAW,yDAAYC,QAASA,EAArK,SACE,qCACE,wBAAO3E,UAAU,oBAAjB,UAEE,uBAAO4B,KAAK,OAAO5B,UAAU,iDAAiDyG,GAAG,qBAAqBC,YAAY,qBAAMtH,KAAK,cAAc0F,UAAU,IAAIC,UAAU,KAAK4B,UAAQ,EAACtB,MAAOK,EAAakB,SAAUT,EAAclG,MAAO,CAAC4G,aAAef,EAAuC,GAAlB,mBACzQ,sBAAM9F,UAAY8F,EAAmG,gDAA9E,4EAAvC,4GAEF,wBAAO9F,UAAU,oBAAjB,UACE,uBAAO4B,KAAK,OAAO5B,UAAU,iDAAiDyG,GAAG,qBAAqBC,YAAY,2EAAetH,KAAK,cAAc0F,UAAU,IAAIC,UAAU,MAAM4B,UAAQ,EAACtB,MAAOM,EAAaiB,SAAUT,EAAclG,MAAO,CAAC4G,aAAeb,EAAuC,GAAlB,mBACnR,sBAAMhG,UAAYgG,EAAmG,gDAA9E,4EAAvC,kHC5BKc,MArCf,YAAuD,IAA5BC,EAA2B,EAA3BA,eAAgBpC,EAAW,EAAXA,QAEnCqC,EAAWC,mBAGjB,EAGIzE,qBAAWK,GAFWiB,EAD1B,EACEoD,uBACgBlD,EAFlB,EAEEC,eAkBF,OACE,cAAC,EAAD,CAAeM,MAAO,wFAAmBnF,KAAM,iBAAkB0E,OAAQA,EAAQE,QANpD,WAC7BA,IACAgD,EAASG,QAAQ9B,MAAQ,IAIyFZ,SAhB/F,SAAAN,GACnBA,EAAEqC,iBAEFO,EAAe,CACbpH,OAAQqH,EAASG,QAAQ9B,QAG3B2B,EAASG,QAAQ9B,MAAQ,IASiHX,WAAW,yDAAYC,QAASA,EAA1K,SACE,mCACE,wBAAO3E,UAAU,oBAAjB,UACE,uBAAO4B,KAAK,MAAM5B,UAAU,oBAAoByG,GAAG,eAAeC,YAAY,qGAAqBtH,KAAK,UAAUuH,UAAQ,EAACS,IAAKJ,IAChI,sBAAMhH,UAAU,oDC2BXqH,MAzDf,YAAiD,IAAxBjE,EAAuB,EAAvBA,WAAYuB,EAAW,EAAXA,QACnC,EAAkCjE,mBAAS,IAA3C,mBAAO4G,EAAP,KAAkBC,EAAlB,KACA,EAAgC7G,mBAAS,IAAzC,mBAAO8G,EAAP,KAAiBC,EAAjB,KAcA,EAA8C/G,oBAAS,GAAvD,mBAAOgH,EAAP,KAAyBC,EAAzB,KACA,EAA4CjH,oBAAS,GAArD,mBAAOkH,EAAP,KAAwBC,EAAxB,KAGMzC,EAAa5C,qBAAWoC,GAE9B,EAGIpC,qBAAWK,GAFQiB,EADvB,EACEgE,oBACgB9D,EAFlB,EAEEC,eAiBF,OAdAjD,qBAAU,WACR,IAAM0G,EAAmBtC,EAAWkC,EAAW,EAAG,IAC5CM,EAAkBxC,EAAWoC,EAAU,EAAG,IAAO,OAEvDG,EAAkBD,GAClBG,EAAiBD,KAChB,CAACN,EAAWE,EAAUpC,IASvB,cAAC,EAAD,CAAeb,MAAO,gEAAenF,KAAM,iBAAkB0E,OAAQA,EAAQE,QAPhD,WAC7BA,IACAuD,EAAa,IACbE,EAAY,KAIkGhD,SAtC3F,SAAAN,GACnBA,EAAEqC,iBAEFpD,EAAY,CACVhE,KAAMkI,EACN/H,KAAMiI,IAGRD,EAAa,IACbE,EAAY,KA6B0H/C,WAAW,6CAAUC,QAASA,EAApK,SACE,qCACE,wBAAO3E,UAAU,oBAAjB,UACE,uBAAO4B,KAAK,OAAO5B,UAAU,kDAAkDyG,GAAG,mBAAmBC,YAAY,mDAAWtH,KAAK,YAAY0F,UAAU,IAAIC,UAAU,KAAK4B,UAAQ,EAACtB,MAAOiC,EAAWV,SAAU,SAAAzC,GAAC,OAAIoD,EAAapD,EAAE3C,OAAO6D,QAAQpF,MAAO,CAAC4G,aAAea,EAAqC,GAAlB,mBAC5R,sBAAM1H,UAAY0H,EAA+F,8CAA5E,0EAArC,4GAEF,wBAAO1H,UAAU,oBAAjB,UACE,uBAAO4B,KAAK,MAAM5B,UAAU,gDAAgD0G,YAAY,qGAAqBD,GAAG,kBAAkBrH,KAAK,WAAWuH,UAAQ,EAACtB,MAAOmC,EAAUZ,SAAU,SAAAzC,GAAC,OAAIsD,EAAYtD,EAAE3C,OAAO6D,QAAQpF,MAAO,CAAC4G,aAAee,EAAoC,GAAlB,mBACjQ,sBAAM5H,UAAY4H,EAA6F,6CAA3E,yEAApC,kHC/BKG,MAnBf,YAAmD,IAA1BC,EAAyB,EAAzBA,aAAcrD,EAAW,EAAXA,QAGrC,EAGInC,qBAAWK,GAFIiB,EADnB,EACEmE,gBACgBjE,EAFlB,EAEEC,eASF,OACE,cAAC,EAAD,CAAeM,MAAO,2DAAenF,KAAM,oBAAqB0E,OAAQA,EAAQE,QAASA,EAASS,SAP/E,SAAAN,GACnBA,EAAEqC,iBAEFwB,KAI0HtD,WAAW,eAAKC,QAASA,KCyHxIuD,MA7Hf,YAAqG,IAApFC,EAAmF,EAAnFA,aAAcC,EAAqE,EAArEA,cAAe3H,EAAsD,EAAtDA,SAAUX,EAA4C,EAA5CA,QAASuI,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,iBAIxEzK,EAAO2E,qBAAWX,GAClBkB,EAAWP,qBAAWI,GAC5B,EAAuCJ,qBAAWK,GAA1CoB,EAAR,EAAQA,eAAgBsE,EAAxB,EAAwBA,WAuGxB,OACE,qCACE,cAAC,EAAD,CAAQ9H,SAAWA,EAAWX,QAAUA,IACxC,cAAC,EAAD,CAAMqC,WAXa,SAAAF,GAErB,IAhBiBuG,EAgBDvG,EAAKK,MAAMI,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQ1E,EAAK0E,QAhBzCiG,EAkBIvG,EAAKM,IAjB1BkG,EAAIC,WAAWF,GACZ5J,MAAK,SAAA+J,GACJP,GAAc,SAAAhC,GACZ,OAAOA,EAAM1C,KAAI,SAAAkF,GACf,OAAOA,EAAarG,MAAQiG,EAASG,EAAUC,WAIpDC,OAAM,SAAAC,GACLC,QAAQC,MAAMF,OAxBJ,SAAAN,GACdC,EAAIQ,cAAcT,GACf5J,MAAK,SAAA+J,GACJP,GAAc,SAAAhC,GACZ,OAAOA,EAAM1C,KAAI,SAAAkF,GACf,OAAOA,EAAarG,MAAQiG,EAASG,EAAUC,WAIpDC,OAAM,SAAAC,GACLC,QAAQC,MAAMF,MAsBeI,CAAQjH,EAAKM,QAQ5C,cAAC,EAAD,IAEA,cAAC,EAAD,CAAkBkD,aA3GG,SAAC,GAAkC,IAAhCE,EAA+B,EAA/BA,YAAaD,EAAkB,EAAlBA,YACvC4C,GAAiB,GACjBG,EAAIU,mBAAmBxD,EAAaD,GACjC9G,MAAK,SAAAwK,GACJjB,EAAaiB,GACbnF,OAED4E,OAAM,SAAAC,GACLC,QAAQC,MAAMF,MAEfO,SAAQ,WACPf,GAAiB,OAgG+B3D,QAAS0D,IAC3D,cAAC,EAAD,CAAiBtB,eA7FM,SAAC,GAAgB,IAAdpH,EAAa,EAAbA,OAC5B2I,GAAiB,GACjBG,EAAIa,sBAAsB3J,GACvBf,MAAK,SAAAwK,GACJjB,EAAaiB,GACbnF,OAED4E,OAAM,SAAAC,GACLC,QAAQC,MAAMF,MAEfO,SAAQ,WACPf,GAAiB,OAkFkC3D,QAAS0D,IAC9D,cAAC,EAAD,CAAejF,WA/EU,SAAC,GAAoB,IAAlBhE,EAAiB,EAAjBA,KAAMG,EAAW,EAAXA,KACpC+I,GAAiB,GACjBG,EAAIc,YAAYnK,EAAMG,GACnBX,MAAK,SAAA+J,GACJP,EAAc,CAACO,GAAF,mBAAc5F,KAC3BkB,OAED4E,OAAM,SAAAC,GACLC,QAAQC,MAAMF,MAEfO,SAAQ,WACPf,GAAiB,OAoE8B3D,QAAS0D,IAC1D,cAAC,EAAD,CAAeL,aAjEM,WACvBM,GAAiB,GACjBG,EAAIe,WAAWjB,EAAWhG,KACvB3D,MAAK,SAAA+J,GACJP,GAAc,SAAAhC,GACZ,OAAOA,EAAMqD,QAAO,SAAAb,GAClB,OAAOA,EAAarG,MAAQgG,EAAWhG,UAG3C0B,OAEH4E,OAAM,SAAAC,GACLC,QAAQC,MAAMF,MAEfO,SAAQ,WACPf,GAAiB,OAkD8B3D,QAAS0D,IAExD,cAAC,EAAD,CAAYjJ,KAAM,uB,gBC1IT,MAA0B,+CCA1B,MAA0B,6CCoC1BsK,OA3Bf,YAAsD,IAA/BtK,EAA8B,EAA9BA,KAAMuK,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,aAGnC,EAGIpH,qBAAWK,GAFQiB,EADvB,EACE+F,oBACgB7F,EAFlB,EAEEC,eASF,OACE,qBAAKjE,UAAY8D,EAAD,gBAAqC1E,EAArC,iCAAmBA,GAAuCmB,QAP9C,SAAA4D,GACxBA,EAAE3C,OAAOxB,YAAT,gBAAgCZ,EAAhC,kBACF4E,KAKF,SACE,sBAAKhE,UAAU,mBAAf,UACE,wBAAQA,UAAU,aAAa4B,KAAK,SAASrB,QAASyD,IACtD,sBAAMhE,UAAU,qBAAqBC,MAAO,CAAEuD,gBAAgB,OAAD,OAASmG,EAASG,EAAcC,EAAhC,QAC7D,mBAAG/J,UAAU,mBAAb,SACI2J,EAASC,EAAe,8MCdrBI,OAbf,YAA8D,IAA9CC,EAA6C,EAA7CA,UAAWN,EAAkC,EAAlCA,OAAQnF,EAA0B,EAA1BA,SAAUoF,EAAgB,EAAhBA,aAE3C,OACE,sBAAK5J,UAAU,mBAAf,UACE,oBAAIA,UAAU,cAAd,SACIiK,IAEFzF,EACF,cAAC,GAAD,CAAamF,OAASA,EAASvK,KAAK,qBAAqBwK,aAAcA,QC0E9DM,OAzEf,YAAmD,IAAhCC,EAA+B,EAA/BA,cAAe9B,EAAgB,EAAhBA,cAEhC,EAAoC3H,mBAAS,CAC3C0J,UAAW,GACXC,aAAc,KAFhB,mBAAOC,EAAP,KAAmBC,EAAnB,KAIQH,EAA4BE,EAA5BF,UAAWC,EAAiBC,EAAjBD,aAEnB,EAA0B3J,oBAAS,GAAnC,mBAAO8J,EAAP,KAAcC,EAAd,KAsCMC,EAAiB,SAAAvG,GACrB,MAAwBA,EAAE3C,OAAlBpC,EAAR,EAAQA,KAAMiG,EAAd,EAAcA,MACdkF,GAAc,SAAAI,GAAS,kCAAUA,GAAV,kBAAsBvL,EAAOiG,QAGtD,OACE,qCACE,cAAC,EAAD,IACA,cAAC,GAAD,CAAM4E,UAAU,qEAAcN,OAAQa,EAAOZ,aAAa,wKAA1D,SACE,uBAAM5J,UAAU,aAAaZ,KAAK,sBAAsBqF,SAAW,SAAAN,GAAC,OAAIgG,EAAchG,EAAGsG,EAAUH,EAAYC,IAA/G,UACE,uBAAO3I,KAAK,QAAQxC,KAAK,YAAYY,UAAU,mBAAmB0G,YAAY,QAAQC,UAAQ,EAACC,SAAU8D,EAAgBrF,MAAQ+E,IACjI,uBAAOxI,KAAK,WAAWxC,KAAK,eAAeY,UAAU,mBAAmB0G,YAAY,uCAASC,UAAQ,EAACC,SAAU8D,EAAgBrF,MAAQgF,IACxI,wBAAQrK,UAAU,oBAAlB,SACGqI,EAAgB,kHAA0B,iHAE7C,oBAAGrI,UAAU,aAAb,iIAEE,cAAC,IAAD,CAAMK,GAAE,UAAK7C,EAAL,WAAsBwC,UAAU,aAAxC,4DCMG4K,OArEf,YAAiE,IAA9BC,EAA6B,EAA7BA,WAAYxC,EAAiB,EAAjBA,cAE7C,EAAoC3H,mBAAS,CAC3C0J,UAAW,GACXC,aAAc,KAFhB,mBAAOC,EAAP,KAAmBC,EAAnB,KAIQH,EAA4BE,EAA5BF,UAAWC,EAAiBC,EAAjBD,aAEnB,EAA0B3J,oBAAS,GAAnC,mBAAOoK,EAAP,KAAcC,EAAd,KAwCML,EAAiB,SAAAvG,GACrB,MAAwBA,EAAE3C,OAAlBpC,EAAR,EAAQA,KAAMiG,EAAd,EAAcA,MACdkF,GAAc,SAAAI,GAAS,kCAAUA,GAAV,kBAAsBvL,EAAOiG,QAGtD,OACE,qCACE,cAAC,EAAD,IACA,cAAC,GAAD,CAAM4E,UAAU,2BAAON,OAAQmB,EAAOlB,aAAa,4FAAnD,SACE,uBAAM5J,UAAU,aAAaZ,KAAK,eAAeqF,SAAW,SAAAN,GAAC,OAAI0G,EAAW1G,EAAGoG,EAAeD,EAAYS,IAA1G,UACE,uBAAOnJ,KAAK,QAAQxC,KAAK,YAAYY,UAAU,mBAAmB0G,YAAY,QAAQC,UAAQ,EAACC,SAAU8D,EAAgBrF,MAAQ+E,IACjI,uBAAOxI,KAAK,WAAWxC,KAAK,eAAeY,UAAU,mBAAmB0G,YAAY,uCAASC,UAAQ,EAACC,SAAU8D,EAAgBrF,MAAQgF,IACxI,wBAAQrK,UAAU,oBAAlB,SACGqI,EAAgB,oCAAa,4CCvElC5K,GAAqDL,EAA7D,GAA6DA,EAA7BC,GAAhC,GAAgCA,IAAKC,GAArC,GAAqCA,MAAOC,GAA5C,GAA4CA,WAEtCyN,GAAmB,SAAA5M,GACvB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAOJ,EAAIE,S,iCCOb2M,GAVQ,SAAC,GAA8C,IAAjCC,EAAgC,EAA3CC,UAAsBzM,EAAqB,EAArBA,KAAS0M,EAAY,mBACnE,OACE,cAAC,IAAD,CAAO1M,KAAOA,EAAd,SAEI0M,EAAM3K,SAAW,cAACyK,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAU/K,GAAE,UAAK7C,EAAL,gBCiRjD6N,OA/Pf,WAGE,MAAsC3K,mBAAS,CAC7CrB,MAAO,sDACPD,KAAM,sHACNO,OAAQ2L,IAHV,mBAAOC,EAAP,KAAoBC,EAApB,KAOA,EAAgC1J,IAAMpB,SAAS,IAA/C,mBAAOqC,EAAP,KAAiB0I,EAAjB,KAEAzK,qBAAU,WAERzC,QAAQmN,IAAI,CAACjD,EAAIkD,iBAAkBlD,EAAImD,oBACpChN,MAAK,YAAyB,IAAD,mBAArBf,EAAqB,KAAfkF,EAAe,KAC5ByI,EAAe3N,GACf4N,EAAY1I,MAEb8F,OAAM,SAAAC,GACLC,QAAQC,MAAMF,QAEjB,IAEH,MAAwCpI,mBAAS,IAAjD,mBAAOwD,EAAP,KAAqB2H,EAArB,KAEA,EAAwDnL,oBAAS,GAAjE,mBAAOwF,EAAP,KAA8B4F,EAA9B,KACA,EAA0DpL,oBAAS,GAAnE,mBAAOwG,EAAP,KAA+B6E,EAA/B,KACA,EAAoDrL,oBAAS,GAA7D,mBAAOoH,EAAP,KAA4BkE,EAA5B,KACA,EAA0CtL,oBAAS,GAAnD,mBAAOqD,EAAP,KAAuBkI,EAAvB,KACA,EAA4CvL,oBAAS,GAArD,mBAAOuH,EAAP,KAAwBiE,EAAxB,KACA,EAAoDxL,oBAAS,GAA7D,mBAAOmJ,EAAP,KAA4BsC,EAA5B,KAEA,EAAoCrK,IAAMpB,SAAS,IAAnD,mBAAO6H,EAAP,KAAmB6D,EAAnB,KAGA,GAAgCtK,IAAMpB,UAAS,GAA/C,qBAAOD,GAAP,MAAiB4L,GAAjB,MAGA,GAA0C3L,oBAAS,GAAnD,qBAAO2H,GAAP,MAAsBC,GAAtB,MAyEA,SAASrE,KACP6H,GAAuB,GACvBC,GAAwB,GACxBC,GAAqB,GACrBC,GAAgB,GAChBC,GAAiB,GACjBC,GAAqB,GAGvB,IAAMG,GAAUC,cAwDhB,SAASC,KACPL,GAAqB,GAvDvBnL,qBAAU,WACJb,aAAaC,QAAQ,QFtHP,SAAAqM,GACpB,OAAO9N,MAAM,GAAD,OAAIlB,GAAJ,YAAqBF,IAAc,CAC7CuB,OAAQ,MACRb,QAAS,CACP,eAAgB,mBAChB,+BAA4BwO,MAG/B7N,KAAKoM,IEgHF0B,CADcvM,aAAaC,QAAQ,QAEhCxB,MAAK,SAAAR,GACJA,EAAIuO,KAAKC,MAAQzM,aAAa0M,QAAQ,QAASzO,EAAIuO,KAAKC,OACtDzM,aAAa0M,QAAQ,QAAS,yHAChCR,IAAY,GACZC,GAAQQ,KAAR,UAAgBtP,EAAhB,cAEDqL,OAAM,SAAAC,GACLC,QAAQC,MAAMF,SAMtB9H,qBAAU,WACR,IAAM+L,EAAqB,SAAA5I,GACX,WAAVA,EAAE6I,KACJ/I,MAOJ,OAHIiD,GAA0BY,GAAuB5B,GAAyBnC,GAAkBkE,GAAmB4B,IACjHoD,SAAS5L,iBAAiB,UAAW0L,GAEhC,WACLE,SAAS3L,oBAAoB,UAAWyL,MAEzC,CAAC7F,EAAwBY,EAAqB5B,EAAuBnC,EAAgBkE,EAAiB4B,IA4BzG,IAAMqD,GAAS,CACbjJ,kBACAhB,sBAvBF,WACE6I,GAAuB,IAuBvB3I,uBApBF,WACE4I,GAAwB,IAoBxB1I,oBAjBF,WACE2I,GAAqB,IAiBrB1I,gBA/BF,SAAyBlE,EAAMG,GAC7BsM,EAAgB,CAACzM,OAAMG,SACvB0M,GAAgB,IA8BhB1I,sBAfF,SAA+BtB,GAC7BiK,GAAiB,GACjBE,EAAcnK,IAcduK,iBACAtF,yBACAhB,wBACA4B,sBACAG,kBACAlE,iBACAG,eACAqE,aACAsB,uBAaF,OACE,cAACjF,EAAsBuI,SAAvB,CAAgC9H,MAAQD,EAAxC,SACE,cAACvD,EAAmBsL,SAApB,CAA6B9H,MAAQkG,EAArC,SACE,cAAC3I,EAAgBuK,SAAjB,CAA0B9H,MAAQtC,EAAlC,SACE,cAACF,EAAgBsK,SAAjB,CAA0B9H,MAAQ6H,GAAlC,SAEE,eAAC,IAAD,WAEE,cAAC,GAAD,CAAgBxO,KAAI,UAAKlB,EAAL,UAAqBiD,SAAUA,GAAUX,QAdzD,WACdK,aAAaiN,WAAW,OACxBd,GAAQQ,KAAR,UAAgBtP,EAAhB,YACA6O,IAAY,IAYFlE,aAAcqD,EAAgBpD,cAAeqD,EAAapD,cAAeA,GAAeC,iBAAkBA,GAAkB6C,UAAWjD,IAOnI,cAAC,IAAD,CAAOxJ,KAAI,UAAKlB,EAAL,WAAX,SACE,cAAC,GAAD,CAAU2M,cApJN,SAAChG,EAAGsG,EAAUH,EAAYC,GAC9CpG,EAAEqC,iBACF8B,IAAiB,GACjB,IFjGgB+E,EEiGRjD,EAA4BE,EAA5BF,UAAWC,EAAiBC,EAAjBD,cFjGHgD,EEkGJ,CACVC,SAAUjD,EACVuC,MAAOxC,GFnGJzL,MAAM,GAAD,OAAIlB,GAAJ,YAAqBJ,IAAO,CACtCyB,OAAQ,OACRb,QAAS,CACP,eAAgB,oBAElBc,KAAMC,KAAKC,UAAUoO,KAEpBzO,KAAKoM,KE8FLpM,MAAK,SAAAR,GACJA,EAAIuO,KAAKC,MAAQzM,aAAa0M,QAAQ,QAASzO,EAAIuO,KAAKC,OACtDzM,aAAa0M,QAAQ,QAAS,yHAChCpC,GAAS,GACTF,EAAc,CACZH,UAAW,GACXC,aAAc,KAGhBkD,YAAW,WACTjB,GAAQQ,KAAR,UAAgBtP,EAAhB,YACAyG,OACC,QAEJ4E,OAAM,SAAA2E,GACLA,EAAI5O,MAAK,SAAAkK,GACPC,QAAQC,MAAMF,EAAIE,OAClByB,GAAS,SAGZpB,SAAQ,WACPmD,KACAlE,IAAiB,OAsHqCD,cAAeA,OAEzD,cAAC,IAAD,CAAO3J,KAAI,UAAKlB,EAAL,WAAX,SACE,cAAC,GAAD,CAAOqN,WA5LD,SAAC1G,EAAGoG,EAAeD,EAAYS,GACrD5G,EAAEqC,iBACF8B,IAAiB,GACjB,IFjDcmF,EEiDNrD,EAA4BE,EAA5BF,UAAWC,EAAiBC,EAAjBD,cFjDLoD,EEkDJ,CACRH,SAAUjD,EACVuC,MAAOxC,GFnDJzL,MAAM,GAAD,OAAIlB,GAAJ,YAAqBH,IAAS,CACxCwB,OAAQ,OACRb,QAAS,CACP,eAAgB,oBAElBc,KAAMC,KAAKC,UAAUwO,KAEpB7O,KAAKoM,KE8CLpM,MAAK,SAAA+N,GACAA,EAAKF,QACPtM,aAAa0M,QAAQ,MAAOF,EAAKF,OACjClC,EAAc,CACZH,UAAW,GACXC,aAAc,KAEhBgC,IAAY,GAIZkB,YAAW,WACTjB,GAAQQ,KAAR,UAAgBtP,EAAhB,WACAyG,OACC,OAGN4E,OAAM,SAAA2E,GACLA,EAAI5O,MAAK,SAAAkK,GACPC,QAAQC,MAAMF,EAAI4E,SAClB3C,GAAS,SAGZ1B,SAAQ,WACPmD,KACAlE,IAAiB,OA2JiCD,cAAeA,OAMzD,cAAC,IAAD,CAAO3J,KAAK,IAAZ,SACI+B,GACA,cAAC,IAAD,CAAUJ,GAAE,UAAK7C,EAAL,YAEZ,cAAC,IAAD,CAAU6C,GAAE,UAAK7C,EAAL,2BC7PfmQ,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjP,MAAK,YAAkD,IAA/CkP,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,GAAD,QAGJpB,SAASqB,eAAe,SAE1BX,O","file":"static/js/main.f0c78682.chunk.js","sourcesContent":["// Для каждого отдельного сервера, свой apiServe объект\nconst apiServeMesto = {\n  CONECT_SERVER: 'https://mesto.nomoreparties.co/v1',\n  TOKEN: '8e942f57-cf63-4abe-b1a4-d7c8e2f5f3b4',\n  COHORT_ID: 'cohort-23',\n  PATHS: {\n    user: 'users/me',\n    cards: 'cards',\n    cardLikes: 'cards/likes'\n  }\n};\n\nconst apiServeAuth = {\n  CONECT_SERVER: 'https://auth.nomoreparties.co',\n  PATHS: {\n    reg: 'signup',\n    login: 'signin',\n    checkToken: 'users/me'\n  }\n};\n\nconst appUrl = '/mesto-react';\n\nexport { apiServeMesto, apiServeAuth, appUrl };\n","import {apiServeMesto} from './constants.js';\nconst {CONECT_SERVER, TOKEN, COHORT_ID, PATHS} = apiServeMesto;\n\nclass Api {\n  #baseUrl\n  #headers\n  #pathUser\n  #pathCards\n  #cardLikes\n  constructor({baseUrl, headers, paths: {user, cards, cardLikes}}) {\n    this.#baseUrl = baseUrl;\n    this.#headers = headers;\n    this.#pathUser = user;\n    this.#pathCards = cards;\n    this.#cardLikes = cardLikes;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  _serverConnectionGet(path) {\n    return fetch(`${this.#baseUrl}/${path}`, {\n      headers: this.#headers\n    })\n    .then(this._checkResponse);\n  }\n\n  _serverConnectionSend(path, method, body) {\n    return fetch(`${this.#baseUrl}/${path}`, {\n      method,\n      headers: this.#headers,\n      body: JSON.stringify(body)\n    })\n    .then(this._checkResponse);\n  }\n\n  _serverConnectionEdit(path, method, dataItem) {\n    return fetch(`${this.#baseUrl}/${path}/${dataItem}`, {\n      method,\n      headers: this.#headers\n    })\n    .then(this._checkResponse);\n  }\n\n\n\n  getInitialCards() {\n    return this._serverConnectionGet(this.#pathCards);\n  }\n\n  getInitialUser() {\n    return this._serverConnectionGet(this.#pathUser);\n  }\n\n  patchUpdateProfile(name, about) {\n    return this._serverConnectionSend(this.#pathUser, 'PATCH', {\n      name,\n      about\n    });\n  }\n\n  postAddCard(name, link) {\n    return this._serverConnectionSend(this.#pathCards, 'POST', {\n      name,\n      link\n    });\n  }\n\n\n  deleteCard(cardId) {\n    return this._serverConnectionEdit(this.#pathCards, 'DELETE', cardId);\n  }\n\n  putAppendLike(cardId) {\n    return this._serverConnectionEdit(this.#cardLikes, 'PUT', cardId);\n  }\n\n  deleteLike(cardId) {\n    return this._serverConnectionEdit(this.#cardLikes, 'DELETE', cardId);\n  }\n\n  patchUpdateUserAvatar(avatarUrl) {\n    return this._serverConnectionSend(`${this.#pathUser}/avatar`, 'PATCH', {avatar: avatarUrl});\n  }\n}\n\nexport default new Api({\n  baseUrl: `${CONECT_SERVER}/${COHORT_ID}`,\n  headers: {\n    authorization: TOKEN,\n    'Content-Type': 'application/json'\n  },\n  paths: PATHS\n});\n","export default __webpack_public_path__ + \"static/media/preloaderProfileImg.e8e535d6.gif\";","export default __webpack_public_path__ + \"static/media/logo.5f0f2709.svg\";","import { Link } from 'react-router-dom';\n\nimport { appUrl } from '../utils/constants';\n\nfunction MenuMobile({ signOut, activeMenu }) {\n  return (\n    <div className={activeMenu ? 'menu-mobile menu-mobile_active' : 'menu-mobile'}>\n      <p className='menu-mobile__email header__email' style={{ display: activeMenu ? 'block' : 'none' }}>\n        {localStorage.getItem('email')}\n      </p>\n      <Link to={`${appUrl}/signin`} className='menu-mobile__auth header__link-auth' style={{ color: '#A9A9A9' }} onClick={signOut}>\n        Выйти\n      </Link>\n    </div>\n  );\n}\n\nexport default MenuMobile;\n","import logo from '../images/logo.svg';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport { appUrl } from '../utils/constants';\nimport { useEffect, useState } from 'react';\n\nimport MenuMobile from './MenuMobile';\n\nfunction Header({ loggedIn, signOut }) {\n  const [screenWidth, setScreenWidth] = useState(null);\n  const [activeMenu, setActiveMenu] = useState(false);\n\n  const { url } = useRouteMatch();\n\n  useEffect(() => {\n    // Проверка размера экрана\n    const checkSizeWindow = () => {\n      setScreenWidth(window.screen.width);\n    }\n\n    if (loggedIn) {\n      // Изначально пользователь может зайти с телефона\n      checkSizeWindow();\n      window.addEventListener('resize', checkSizeWindow);\n      return;\n    }\n    window.removeEventListener('resize', checkSizeWindow);\n  }, [loggedIn]);\n\n  const toggleClass = () => {\n    setActiveMenu(!activeMenu);\n  }\n\n  const checkUrl = () => {\n    if (url === `${appUrl}/signup`) {\n      return <Link to={`${appUrl}/signin`} className='header__link-auth'>\n        Войти\n      </Link>;\n    }\n    else if (url === `${appUrl}/signin`) {\n      return <Link to={`${appUrl}/signup`} className='header__link-auth'>\n        Регистрация\n      </Link>;\n    }\n  }\n\n  const renderEmail = () => {\n    if (loggedIn && screenWidth < '505') {\n      return (\n        <button type='button' className={activeMenu ? 'header__toggle-menu header__toggle-menu_active' : 'header__toggle-menu'} onClick={toggleClass} />\n      );\n    }\n    else if (loggedIn) {\n      return (\n        <>\n          <p className='header__email'>\n            {localStorage.getItem('email')}\n          </p>\n          <Link to={`${appUrl}/signin`} className='header__link-auth' style={{ color: '#A9A9A9' }} onClick={signOut}>\n            Выйти\n          </Link>\n        </>\n      );\n    }\n  }\n\n  return (\n    <>\n      {/* Эндпоинт 505px же, до этого размера шапка выглядит нормально. Я сразу проверяю когда зашел пользователь какое у него разрешение, и после при изменении экрана. Все проверил, все отлично. На страницах регистрация и вход такого меню не должно быть */}\n      <MenuMobile signOut={ signOut } activeMenu={ activeMenu } />\n      <header className='header page__position-center page__header'>\n        <Link to={`${appUrl}/mesto`} target=\"_self\" className=\"header__link\">\n          <img src={logo} alt=\"Место Россия\" className=\"header__logo\" />\n        </Link>\n        { checkUrl() }\n        { renderEmail() }\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\n\n// Контекст\nimport { CurrentUserContext } from '../../../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  // Деструктуризация\n  const { owner, link, name, likes } = card;\n\n  // Контекст user\n  const { _id } = useContext(CurrentUserContext);\n\n  const toggleClassIcon = () => {\n    // Является ли карточка моей\n    return owner._id === _id ? 'card-place__delete-btn' : 'card-place__delete-btn card-place__delete-btn_display_none';\n  };\n\n  // При монтировании есть ли на карточке лайк\n  const isLiked = () => {\n    // Немного оптимизации. Если к примеру все карточки не будут иметь лайков, то и проверять их незачем\n    if (likes.length > 0) {\n      // Лайкнул карточку или нет\n      const isLiked = likes.some(like => like._id === _id);\n      return isLiked ? 'card-place__like-btn card-place__like-btn_active' : 'card-place__like-btn';\n    }\n    return 'card-place__like-btn';\n  };\n\n  const cardClick = () => {\n    onCardClick(name, link);\n  };\n\n  const cardLike = () => {\n    onCardLike(card)\n  };\n\n  return (\n    // Мне указали на ошибку БЭМ, что в одном компоненте не должно быть два разных блока. Поэтому и li вынес в Main, где этот класс будет к месту. Указали что по БЭМ классы place__item и card-place не могут быть вместе.\n    <li className=\"place__item\">\n      <div className=\"card-place\">\n        <button className={ toggleClassIcon() } onClick={() => onCardDelete(card)} />\n        <img src={link} alt={name} className=\"card-place__img\" onClick={cardClick} />\n        <h2 className=\"card-place__title\">\n        {name}\n        </h2>\n        <div className=\"card-place__likes\">\n        <button className={ isLiked() } type=\"button\" onClick={cardLike} />\n        <span className=\"card-place__counter\">{ likes.length }</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/profile-btn-edit.1e29eae2.svg\";","import React from 'react';\n\nexport const CardListContext = React.createContext();\n","import React from 'react';\n\nexport const LogicsAllPopups = React.createContext();\n","import React, { useContext } from 'react';\n\nimport Card from './Card';\n\nimport profileEditImg from '../../../images/icons/profile-btn-edit.svg';\n\n// Контекст\nimport { CurrentUserContext } from '../../../contexts/CurrentUserContext';\nimport { CardListContext } from '../../../contexts/cardListContext';\nimport { LogicsAllPopups } from '../../../contexts/logicsAllPopups';\n\nfunction Main({ onCardLike }) {\n\n  // Контекст\n  const { avatar, about, name } = useContext(CurrentUserContext);\n  const cardList = useContext(CardListContext);\n  const {\n    handleEditAvatarClick: onEditAvatar,\n    handleEditProfileClick: onEditProfile,\n    handleAddPlaceClick: onAddPlace,\n    handleCardClick: onCardClick,\n    handleDeleteCardClick: onCardDelete\n  } = useContext(LogicsAllPopups);\n\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile content__position-center content__profile\">\n        <div className=\"profile__img-container\">\n          <img src={avatar} alt=\"Портрет\" className=\"profile__img\" style={{backgroundImage: `url(${avatar})`}} />\n          <img src={profileEditImg} alt=\"Кнопка редактирования\" className=\"profile__edit-img\" onClick={onEditProfile} />\n        </div>\n        <div className=\"profile__about\">\n          <div className=\"profile__container-text\">\n            <h1 className=\"profile__title-name\">{about}</h1>\n            <p className=\"profile__subtitle-does\">{name}</p>\n          </div>\n          <button className=\"profile__edit-btn\" type=\"button\" onClick={onEditAvatar} />\n        </div>\n        <button className=\"profile__add-card-place\" type=\"button\" onClick={onAddPlace} />\n      </section>\n      <section className=\"place content__position-center content__place\">\n        <ul className=\"place__list\">\n          {\n            cardList.length > 0 ?\n            cardList.map(card => {\n              return (\n                <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\n              );\n            }) :\n            // Это прелоадер\n            (<div className='place__result' />)\n          }\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n    return (\n      <footer className=\"footer page__position-center page__footer\">\n        <p className=\"footer__text-copyright\">\n          &copy; 2021 Mesto Russia\n        </p>\n      </footer>\n    );\n}\n\nexport default Footer;\n","import React, { useContext } from 'react';\n\n// Контекст\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction ImagePopup({ nameSelector }) {\n\n  // Контекст\n  const {\n    isShowPopupImg: isOpen,\n    closeAllPopups: onClose,\n    selectedCard: { name, link }\n  } = useContext(LogicsAllPopups);\n\n  const onClosePopupContainer = e => {\n    /* e.target.className === `popup ${nameSelector} popup_opened` */\n    if (e.target.classList.contains('popup_opened')) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={!isOpen ? `popup ${nameSelector}` : `popup ${nameSelector} popup_opened`} onClick={onClosePopupContainer}>\n      <div className=\"popup__container popup__container_review_img\">\n        <button className=\"popup__btn\" type=\"button\" onClick={onClose}></button>\n        <figure className=\"popup__img-container\">\n          <img src={link} className=\"popup__img\" alt={name} />\n          <figcaption className=\"popup__img-text\">\n            {name}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm({title, name, isOpen, onClose, children, onSubmit, buttonText, loading }) {\n\n  const onClosePopupContainer = e => {\n    if (e.target.className === `popup ${name} popup_opened`) {\n      onClose();\n    }\n  };\n\n  return (\n    <>\n      <div className={!isOpen ? `popup ${name}` : `popup ${name} popup_opened`} onClick={onClosePopupContainer} >\n        <div className=\"popup__container\">\n          <button className=\"popup__btn\" type=\"button\" onClick={onClose}></button>\n          <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n            <h2 className=\"popup__form-title\">\n              {title}\n            </h2>\n            {children}\n            {/* Так намного лучше */}\n            <button className=\"button-popup button-popup_add_card\" type=\"submit\">\n              {loading ? `${buttonText}...` : buttonText}\n            </button>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import {createContext} from 'react';\n\nexport const ValidationFormContext = createContext();\n\nconst validetionUrl = item => {\n  return item.startsWith('https://');\n};\n\nconst validationObj = {\n  length: (minLength, maxLength, item) => {\n    if (minLength > 0) {\n      return item.length > minLength && item.length < maxLength ? true : false;\n    }\n  },\n  fieldType: (type, item) => {\n    switch (type) {\n      case 'url': return validetionUrl(item);\n      default: return true;\n    }\n  }\n};\n\nexport const validation = (value, minLength = 0, maxLength = 10000, fieldType = false) => {\n  validationObj.lengthIsValid = validationObj.length(minLength, maxLength, value);\n  validationObj.fieldTypeValid = validationObj.fieldType(fieldType, value);\n  // console.log(validationObj.fieldTypeValid)\n  // console.log(validationObj.lengthIsValid)\n\n  return validationObj.lengthIsValid && validationObj.fieldTypeValid ? true : false;\n};\n","import React, { useEffect, useState, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n// Контекст\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { ValidationFormContext } from '../../contexts/validationFormContext';\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction EditProfilePopup({ onUpdateUser, loading }) {\n  const [profileValue, setProfileValue] = useState({\n    profileName: '',\n    profileDoes: ''\n  });\n  const {profileName, profileDoes} = profileValue;\n\n  const [isValidProfileName, setValidProfileName] = useState(false);\n  const [isValidProfileDoes, setValidProfileDoes] = useState(false);\n\n  // Контекст\n  const { about, name } = useContext(CurrentUserContext);\n  const validation = useContext(ValidationFormContext);\n  const {\n    isEditAvatarPopupOpen: isOpen,\n    closeAllPopups: onClose\n  } = useContext(LogicsAllPopups);\n\n  // Вторым параметром передал переменные зависимости, те что используются в useEffect\n  // Нужно следить за состояние попапа\n  useEffect(() => {\n    // Здесь без разницы когда будем подставлять данные, при закрытом или открытом попапе, важно что операция выполниться только в одном из этих случаев.\n    if (!isOpen) {\n      setProfileValue({\n        profileName: about,\n        profileDoes: name\n      });\n    }\n  }, [about, name, isOpen]);\n\n  useEffect(() => {\n    const isValidProfileName = validation(profileValue.profileName, 2, 40);\n    const isValidProfileDoes = validation(profileValue.profileDoes, 2, 200);\n    // console.log(isValidProfileName, isValidProfileDoes)\n\n    setValidProfileName(isValidProfileName);\n    setValidProfileDoes(isValidProfileDoes);\n  }, [profileValue, validation]);\n\n  // Немного усложнил задачу, чтобы потренироваться, понять как реализуется задача по-другому\n  const handleChange = e => {\n    setProfileValue(state => {\n      const previousValue = Object.assign({}, state);\n      previousValue[e.target.name] = e.target.value;\n      return previousValue;\n    });\n  }\n\n  const handleSabmit = e => {\n    e.preventDefault();\n\n    onUpdateUser(profileValue);\n  };\n\n  return (\n    <PopupWithForm title={'Редактировать профиль'} name={'popup_edit_profile'} isOpen={isOpen} onClose={onClose} onSubmit={handleSabmit} buttonText='Сохранить' loading={loading} >\n      <>\n        <label className=\"popup__form-label\">\n          {/* С помощью value и onChange создал управляющий компонент, где содержимое берется из state компонента */}\n          <input type=\"text\" className=\"popup__form-input popup__form-input_value_name\" id=\"profile-name-input\" placeholder=\"Имя\" name=\"profileName\" minLength=\"2\" maxLength=\"40\" required value={profileName} onChange={handleChange} style={{borderBottom: !isValidProfileName ? '1px solid red' : ''}} />\n          <span className={!isValidProfileName ? \"popup__error-message profile-name-input-error popup__error-message_active\" : \"popup__error-message profile-name-input-error\"}>Ошибка валидации</span>\n        </label>\n        <label className=\"popup__form-label\">\n          <input type=\"text\" className=\"popup__form-input popup__form-input_value_does\" id=\"profile-does-input\" placeholder=\"Деятельность\" name=\"profileDoes\" minLength=\"2\" maxLength=\"200\" required value={profileDoes} onChange={handleChange} style={{borderBottom: !isValidProfileDoes ? '1px solid red' : ''}} />\n          <span className={!isValidProfileDoes ? \"popup__error-message profile-does-input-error popup__error-message_active\" : \"popup__error-message profile-does-input-error\"}>Ошибка валидации</span>\n        </label>\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef, useContext } from 'react';\n\nimport PopupWithForm from './PopupWithForm';\n\n// Контекст\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction EditAvatarPopup({ onUpdateAvatar, loading }) {\n  // Использую рефы\n  const inputRef = useRef();\n\n  // Контекст\n  const {\n    isEditProfilePopupOpen: isOpen,\n    closeAllPopups: onClose\n  } = useContext(LogicsAllPopups);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n\n    inputRef.current.value = '';\n  };\n\n  const resetFormFieldsOnClose = () => {\n    onClose();\n    inputRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm title={'Обновить аватар'} name={'popup_edit_img'} isOpen={isOpen} onClose={resetFormFieldsOnClose} onSubmit={handleSubmit} buttonText='Сохранить' loading={loading} >\n      <>\n        <label className=\"popup__form-label\">\n          <input type=\"url\" className=\"popup__form-input\" id=\"url-img-edit\" placeholder=\"Ссылка на картинку\" name=\"imgEdit\" required ref={inputRef} />\n          <span className=\"popup__error-message url-img-edit-error\"></span>\n        </label>\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n// Контекст\nimport { ValidationFormContext } from '../../contexts/validationFormContext';\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction AddPlacePopup({ onAddPlace, loading }) {\n  const [placeName, setPlaceName] = useState('');\n  const [placeImg, setPlaceImg] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onAddPlace ({\n      name: placeName,\n      link: placeImg\n    });\n\n    setPlaceName('');\n    setPlaceImg('');\n  };\n\n  const [isValidPlaceName, setValidPlaceName] = useState(false);\n  const [isValidPlaceUrl, setValidPlaceUrl] = useState(false);\n\n  // Контекст\n  const validation = useContext(ValidationFormContext);\n  // Контекст\n  const {\n    isAddPlacePopupOpen: isOpen,\n    closeAllPopups: onClose\n  } = useContext(LogicsAllPopups);\n\n  useEffect(() => {\n    const isValidPlaceName = validation(placeName, 2, 30);\n    const isValidPlaceUrl = validation(placeImg, 1, 10000, 'url');\n\n    setValidPlaceName(isValidPlaceName);\n    setValidPlaceUrl(isValidPlaceUrl);\n  }, [placeName, placeImg, validation]);\n\n  const resetFormFieldsOnClose = () => {\n    onClose();\n    setPlaceName('');\n    setPlaceImg('');\n  }\n\n  return (\n    <PopupWithForm title={'Новое место'} name={'popup_add_card'} isOpen={isOpen} onClose={resetFormFieldsOnClose} onSubmit={handleSubmit} buttonText='Создать' loading={loading}>\n      <>\n        <label className=\"popup__form-label\">\n          <input type=\"text\" className=\"popup__form-input popup__form-input_value_place\" id=\"place-name-input\" placeholder=\"Название\" name=\"placeName\" minLength=\"2\" maxLength=\"30\" required value={placeName} onChange={e => setPlaceName(e.target.value)} style={{borderBottom: !isValidPlaceName ? '1px solid red' : ''}} />\n          <span className={!isValidPlaceName ? \"popup__error-message place-name-input-error popup__error-message_active\" : \"popup__error-message place-name-input-error\"}>Ошибка валидации</span>\n        </label>\n        <label className=\"popup__form-label\">\n          <input type=\"url\" className=\"popup__form-input popup__form-input_value_img\" placeholder=\"Ссылка на картинку\" id=\"place-img-input\" name=\"placeImg\" required value={placeImg} onChange={e => setPlaceImg(e.target.value)} style={{borderBottom: !isValidPlaceUrl ? '1px solid red' : ''}} />\n          <span className={!isValidPlaceUrl ? \"popup__error-message place-img-input-error popup__error-message_active\" : \"popup__error-message place-img-input-error\"}>Ошибка валидации</span>\n        </label>\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useContext } from 'react';\n\nimport PopupWithForm from './PopupWithForm';\n\n// Контекст\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction ConfirmRemove({ onRemoveCard, loading }) {\n\n  // Контекст\n  const {\n    isConfirmPoppup: isOpen,\n    closeAllPopups: onClose\n  } = useContext(LogicsAllPopups);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onRemoveCard();\n  };\n\n  return (\n    <PopupWithForm title={'Вы уверены?'} name={'popup_remove_card'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText='Да' loading={loading} />\n  );\n}\n\nexport default ConfirmRemove;\n","import React, { /* useState,  */useContext } from 'react';\n\nimport Api from '../../utils/api';\n\nimport Header from '../Header';\nimport Main from './main/Main';\nimport Footer from '../Footer';\nimport ImagePopup from '../popups/ImagePopup';\nimport EditProfilePopup from '../popups/EditProfilePopup';\nimport EditAvatarPopup from '../popups/EditAvatarPopup';\nimport AddPlacePopup from '../popups/AddPlacePopup';\nimport ConfirmRemove from '../popups/ConfirmRemove';\n\n// Контекст\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { CardListContext } from '../../contexts/cardListContext';\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction Mesto({ setStateUser, setStateCards, loggedIn, signOut, isLoadingData, setIsLoadingData }) {\n\n  // const [isLoadingData, setIsLoadingData] = useState(false);\n\n  const user = useContext(CurrentUserContext);\n  const cardList = useContext(CardListContext);\n  const { closeAllPopups, cardRemove } = useContext(LogicsAllPopups);\n\n  const handleUpdateUser = ({ profileDoes, profileName }) => {\n    setIsLoadingData(true);\n    Api.patchUpdateProfile(profileDoes, profileName)\n      .then(newUser => {\n        setStateUser(newUser);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoadingData(false);\n      });\n  };\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    setIsLoadingData(true);\n    Api.patchUpdateUserAvatar(avatar)\n      .then(newUser => {\n        setStateUser(newUser);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoadingData(false);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    setIsLoadingData(true);\n    Api.postAddCard(name, link)\n      .then(newCard => {\n        setStateCards([newCard, ...cardList]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoadingData(false);\n      });\n  };\n\n  const handleCardDelete = () => {\n    setIsLoadingData(true);\n    Api.deleteCard(cardRemove._id)\n      .then(newCard => {\n        setStateCards(state => {\n          return state.filter(previousCard => {\n            return previousCard._id !== cardRemove._id;\n          });\n        })\n        closeAllPopups();\n    })\n    .catch(err => {\n      console.error(err);\n    })\n    .finally(() => {\n      setIsLoadingData(false);\n    });\n  };\n\n  //* Card\n  const addLike = idCard => {\n    Api.putAppendLike(idCard)\n      .then(newCard => {\n        setStateCards(state => {\n          return state.map(previousCard => {\n            return previousCard._id === idCard ? newCard : previousCard;\n          });\n        });\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  const deleteLike = idCard => {\n    Api.deleteLike(idCard)\n      .then(newCard => {\n        setStateCards(state => {\n          return state.map(previousCard => {\n            return previousCard._id === idCard ? newCard : previousCard;\n          });\n        });\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  const handleCardLike = card => {\n    // true лайк стоит\n    const isLiked = card.likes.some(like => like._id === user._id);\n\n    isLiked ? deleteLike(card._id) : addLike(card._id);\n  };\n  //*\n\n  return (\n    <>\n      <Header loggedIn={ loggedIn } signOut={ signOut } />\n      <Main onCardLike={handleCardLike} />\n      <Footer />\n\n      <EditProfilePopup onUpdateUser={handleUpdateUser} loading={isLoadingData} />\n      <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} loading={isLoadingData} />\n      <AddPlacePopup onAddPlace={handleAddPlaceSubmit} loading={isLoadingData} />\n      <ConfirmRemove onRemoveCard={handleCardDelete} loading={isLoadingData} />\n\n      <ImagePopup name={'popup_edit_img'} />\n    </>\n  );\n}\n\nexport default Mesto;\n","export default __webpack_public_path__ + \"static/media/auth-success-popup.e004e6e7.svg\";","export default __webpack_public_path__ + \"static/media/auth-error-popup.471086c8.svg\";","import React, { useContext } from 'react';\n\n// Icon\nimport iconSuccess from '../../images/icons/auth-success-popup.svg';\nimport iconErr from '../../images/icons/auth-error-popup.svg';\n\n// Контекст\nimport { LogicsAllPopups } from '../../contexts/logicsAllPopups';\n\nfunction InfoTooltip({ name, authIn, messagePopup }) {\n\n  // Контекст\n  const {\n    isConfirmAuthPoppup: isOpen,\n    closeAllPopups: onClose\n  } = useContext(LogicsAllPopups);\n\n  const onClosePopupContainer = e => {\n    if (e.target.className === `popup ${name} popup_opened`) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={!isOpen ? `popup ${name}` : `popup ${name} popup_opened`} onClick={onClosePopupContainer}>\n      <div className=\"popup__container\">\n        <button className=\"popup__btn\" type=\"button\" onClick={onClose} />\n        <span className='popup__icon-status' style={{ backgroundImage: `url(${authIn ? iconSuccess : iconErr})` }} />\n        <p className='popup__auth-desc'>\n          { authIn ? messagePopup : 'Что-то пошло не так! Попробуйте ещё раз.' }\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import InfoTooltip from '../popups/InfoTooltip';\n\nfunction Auth({ titleAuth, authIn, children, messagePopup }) {\n  // Максимум что удалось вытащить общего из компонентов\n  return (\n    <div className='auth auth_center'>\n      <h2 className='auth__title'>\n        { titleAuth }\n      </h2>\n      { children }\n      <InfoTooltip authIn={ authIn } name='popup_auth_message' messagePopup={messagePopup} />\n    </div>\n  );\n}\n\nexport default Auth;\n","import React, { useState, /* useContext */ } from \"react\";\nimport { Link, /* useHistory */ } from 'react-router-dom';\n\nimport Header from '../../Header';\nimport Auth from '../Auth';\n\nimport { appUrl } from '../../../utils/constants';\n// import { registerApi } from '../../../utils/auth';\n\n// import { LogicsAllPopups } from '../../../contexts/logicsAllPopups';\n\nfunction Register({submitFormReg, isLoadingData}) {\n\n  const [fieldValue, setFieldValue] = useState({\n    authEmail: '',\n    authPassword: ''\n  });\n  const { authEmail, authPassword } = fieldValue;\n\n  const [regIn, setRegIn] = useState(false);\n\n  // Контекст\n  // const { handAuthClick, closeAllPopups } = useContext(LogicsAllPopups);\n\n  // const history = useHistory();\n\n  // const submitForm = (e, setRegIn) => {\n  //   e.preventDefault();\n  //   registerApi({\n  //     password: authPassword,\n  //     email: authEmail\n  //   })\n  //   .then(res => {\n  //     res.data.email ? localStorage.setItem('email', res.data.email)\n  //     : localStorage.setItem('email', 'Здесь должен быть Ваш email');\n  //     setRegIn(true);\n  //     setFieldValue({\n  //       authEmail: '',\n  //       authPassword: ''\n  //     });\n  //     // Единственный вариант, так как history.push() перенаправляет сразу, не дав переписать состояние\n  //     setTimeout(() => {\n  //       history.push(`${appUrl}/signin`);\n  //       closeAllPopups();\n  //     }, 2000);\n  //   })\n  //   .catch(rej => {\n  //     rej.then(err => {\n  //       console.error(err.error);\n  //       setRegIn(false);\n  //     });\n  //   })\n  //   .finally(() => {\n  //     handAuthClick();\n  //   });\n  // }\n\n  const setValueFields = e => {\n    const { name, value } = e.target;\n    setFieldValue(prevState => ({ ...prevState, [name]: value }));\n  };\n\n  return (\n    <>\n      <Header />\n      <Auth titleAuth='Регистрация' authIn={regIn} messagePopup='Вы успешно зарегистрировались!' >\n        <form className='auth__form' name='registrationInMesto' onSubmit={ e => submitFormReg(e, setRegIn, fieldValue, setFieldValue) } >\n          <input type='email' name='authEmail' className='auth__field-text' placeholder='Email' required onChange={setValueFields} value={ authEmail } />\n          <input type='password' name='authPassword' className='auth__field-text' placeholder='Пароль' required onChange={setValueFields} value={ authPassword } />\n          <button className='auth__form-button'>\n            {isLoadingData ? 'Зарегистрироваться...' : 'Зарегистрироваться'}\n          </button>\n          <p className='auth__desc'>\n            Уже зарегистрированы?\n            <Link to={`${appUrl}/signin`} className='auth__link'>\n              &nbsp;Войти\n            </Link>\n          </p>\n        </form>\n      </Auth>\n    </>\n  );\n}\n\nexport default Register;\n","import Header from '../../Header';\nimport Auth from '../Auth';\n\nimport React, { useState, /* useContext */ } from \"react\";\n// import { useHistory } from 'react-router-dom';\n\n// import { LogicsAllPopups } from '../../../contexts/logicsAllPopups';\n\n// import { signInApi } from '../../../utils/auth';\n// import { appUrl } from '../../../utils/constants';\n\nfunction Login({ /* handleLogin */ submitForm, isLoadingData }) {\n\n  const [fieldValue, setFieldValue] = useState({\n    authEmail: '',\n    authPassword: ''\n  });\n  const { authEmail, authPassword } = fieldValue;\n\n  const [logIn, setLogIn] = useState(false);\n\n  // Контекст\n  // const { handAuthClick, closeAllPopups } = useContext(LogicsAllPopups);\n\n  // const history = useHistory();\n\n  // const submitForm = e => {\n  //   e.preventDefault();\n  //   signInApi({\n  //     password: authPassword,\n  //     email: authEmail\n  //   })\n  //   .then(data => {\n  //     if (data.token) {\n  //       localStorage.setItem('jwt', data.token);\n  //       setFieldValue({\n  //         authEmail: '',\n  //         authPassword: ''\n  //       });\n  //       handleLogin();\n  //       setLogIn(true);\n  //       // Единственный вариант, так как history.push() перенаправляет сразу, не дав переписать состояние\n  //       setTimeout(() => {\n  //         history.push(`${appUrl}/mesto`);\n  //         closeAllPopups();\n  //       }, 2000);\n  //     }\n  //   })\n  //   .catch(rej => {\n  //     rej.then(err => {\n  //       console.error(err.message);\n  //       setLogIn(false);\n  //     });\n  //   })\n  //   .finally(() => {\n  //     handAuthClick();\n  //   });\n  // }\n\n  const setValueFields = e => {\n    const { name, value } = e.target;\n    setFieldValue(prevState => ({ ...prevState, [name]: value }));\n  };\n\n  return (\n    <>\n      <Header />\n      <Auth titleAuth='Вход' authIn={logIn} messagePopup='Успех. Подождите...' >\n        <form className='auth__form' name='loginInMesto' onSubmit={ e => submitForm(e, setFieldValue, fieldValue, setLogIn) } >\n          <input type='email' name='authEmail' className='auth__field-text' placeholder='Email' required onChange={setValueFields} value={ authEmail } />\n          <input type='password' name='authPassword' className='auth__field-text' placeholder='Пароль' required onChange={setValueFields} value={ authPassword } />\n          <button className='auth__form-button'>\n            {isLoadingData ? 'Войти...' : 'Войти'}\n          </button>\n        </form>\n      </Auth>\n    </>\n  );\n}\n\nexport default Login;\n\n","import { apiServeAuth } from './constants';\nconst { CONECT_SERVER, PATHS: { reg, login, checkToken } } = apiServeAuth;\n\nconst getResponceServe = res => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(res.json());\n};\n\nconst registerApi = dataReg => {\n  return fetch(`${CONECT_SERVER}/${reg}`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(dataReg)\n  })\n    .then(getResponceServe);\n}\n\nconst signInApi = dataLogin => {\n  return fetch(`${CONECT_SERVER}/${login}`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(dataLogin)\n  })\n    .then(getResponceServe)\n}\n\nconst checkTokenApi = token => {\n  return fetch(`${CONECT_SERVER}/${checkToken}`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    }\n  })\n  .then(getResponceServe);\n}\n\nexport { registerApi, signInApi, checkTokenApi };\n","import { Route, Redirect } from \"react-router-dom\";\n\nimport { appUrl } from '../utils/constants';\n\nconst ProtectedRoute = ({ component: Сomponent, path, ...props }) => {\n  return (\n    <Route path={ path }>\n      {\n        props.loggedIn ? <Сomponent {...props} /> : <Redirect to={`${appUrl}/signin`} />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport Api from '../utils/api';\n\n// GIF preloader\nimport gifPreloader from '../images/gif/preloaderProfileImg.gif';\n\n// Страницы\nimport Mesto from './mesto/Mesto';\nimport Register from './auth/register/Register';\nimport Login from './auth/login/Login';\n\nimport { checkTokenApi, signInApi, registerApi } from '../utils/auth';\n\n// Контекст\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { CardListContext } from '../contexts/cardListContext';\nimport { ValidationFormContext, validation } from '../contexts/validationFormContext';\nimport { LogicsAllPopups } from '../contexts/logicsAllPopups';\n\nimport { appUrl } from '../utils/constants';\n\n// HOC\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n\n  // Информация о пользователе\n  const [currentUser, setCurrentUser] = useState({\n    about: 'Загрузка...',\n    name: 'Пожалуйста подождите',\n    avatar: gifPreloader\n  });\n\n  // Информация о карточек\n  const [cardList, setCardList] = React.useState([]);\n\n  useEffect(() => {\n    // Данные должны подгружаться одновремено\n    Promise.all([Api.getInitialUser(), Api.getInitialCards()])\n      .then(([ user, cardList ]) => {\n        setCurrentUser(user);\n        setCardList(cardList);\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }, []);\n\n  const [selectedCard, setselectedCard] = useState({});\n\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isShowPopupImg, setShowPopupImg] = useState(false);\n  const [isConfirmPoppup, setConfirmPoppup] = useState(false);\n  const [isConfirmAuthPoppup, setConfirmAuthPoppup] = useState(false);\n\n  const [cardRemove, setCardRemove] = React.useState({});\n\n  // Статус пользователя\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  // Стутус загрузки данных\n  const [isLoadingData, setIsLoadingData] = useState(false);\n\n  const submitFormLogin = (e, setFieldValue, fieldValue, setLogIn) => {\n    e.preventDefault();\n    setIsLoadingData(true);\n    const { authEmail, authPassword } = fieldValue;\n    signInApi({\n      password: authPassword,\n      email: authEmail\n    })\n    .then(data => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        setFieldValue({\n          authEmail: '',\n          authPassword: ''\n        });\n        setLoggedIn(true);\n        // setLogIn(true);\n        // Единственный вариант, так как history.push() перенаправляет сразу, не дав переписать состояние\n        // По идее можно было бы использовать Promise, но он почему-то не срабатывает\n        setTimeout(() => {\n          history.push(`${appUrl}/mesto`);\n          closeAllPopups();\n        }, 0);\n      }\n    })\n    .catch(rej => {\n      rej.then(err => {\n        console.error(err.message);\n        setLogIn(false);\n      });\n    })\n    .finally(() => {\n      handAuthClick();\n      setIsLoadingData(false);\n    });\n  }\n\n  const submitFormReg = (e, setRegIn, fieldValue, setFieldValue) => {\n    e.preventDefault();\n    setIsLoadingData(true);\n    const { authEmail, authPassword } = fieldValue;\n    registerApi({\n      password: authPassword,\n      email: authEmail\n    })\n    .then(res => {\n      res.data.email ? localStorage.setItem('email', res.data.email)\n      : localStorage.setItem('email', 'Здесь должен быть Ваш email');\n      setRegIn(true);\n      setFieldValue({\n        authEmail: '',\n        authPassword: ''\n      });\n      // Единственный вариант, так как history.push() перенаправляет сразу, не дав переписать состояние\n      setTimeout(() => {\n        history.push(`${appUrl}/signin`);\n        closeAllPopups();\n      }, 2000);\n    })\n    .catch(rej => {\n      rej.then(err => {\n        console.error(err.error);\n        setRegIn(false);\n      });\n    })\n    .finally(() => {\n      handAuthClick();\n      setIsLoadingData(false);\n    });\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setShowPopupImg(false);\n    setConfirmPoppup(false);\n    setConfirmAuthPoppup(false);\n  }\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (localStorage.getItem('jwt')) {\n      const token = localStorage.getItem('jwt');\n      checkTokenApi(token)\n        .then(res => {\n          res.data.email ? localStorage.setItem('email', res.data.email)\n          : localStorage.setItem('email', 'Здесь должен быть Ваш email');\n          setLoggedIn(true);\n          history.push(`${appUrl}/mesto`);\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  });\n\n  // Закрытие попапов на esc\n  useEffect(() => {\n    const closePopupTouchEsc = e => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    };\n\n    if (isEditProfilePopupOpen || isAddPlacePopupOpen || isEditAvatarPopupOpen || isShowPopupImg || isConfirmPoppup || isConfirmAuthPoppup) {\n      document.addEventListener('keydown', closePopupTouchEsc);\n    }\n    return () => {\n      document.removeEventListener('keydown', closePopupTouchEsc);\n    };\n  }, [isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, isShowPopupImg, isConfirmPoppup, isConfirmAuthPoppup]);\n\n  function handleCardClick(name, link) {\n    setselectedCard({name, link});\n    setShowPopupImg(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setConfirmPoppup(true);\n    setCardRemove(card);\n  }\n\n  function handAuthClick() {\n    setConfirmAuthPoppup(true);\n  }\n\n  const popups = {\n    closeAllPopups,\n    handleEditAvatarClick,\n    handleEditProfileClick,\n    handleAddPlaceClick,\n    handleCardClick,\n    handleDeleteCardClick,\n    handAuthClick,\n    isEditProfilePopupOpen,\n    isEditAvatarPopupOpen,\n    isAddPlacePopupOpen,\n    isConfirmPoppup,\n    isShowPopupImg,\n    selectedCard,\n    cardRemove,\n    isConfirmAuthPoppup\n  };\n\n  /* const handleLogin = () => {\n    setLoggedIn(true);\n  }; */\n\n  const signOut = () => {\n    localStorage.removeItem('jwt');\n    history.push(`${appUrl}/signin`);\n    setLoggedIn(false);\n  }\n\n  return (\n    <ValidationFormContext.Provider value={ validation }>\n      <CurrentUserContext.Provider value={ currentUser } >\n        <CardListContext.Provider value={ cardList }>\n          <LogicsAllPopups.Provider value={ popups } >\n            {/* { loggedIn ? console.log(1) : console.log(2) } */}\n            <Switch>\n\n              <ProtectedRoute path={`${appUrl}/mesto`} loggedIn={loggedIn} signOut={signOut}\n              setStateUser={setCurrentUser} setStateCards={setCardList} isLoadingData={isLoadingData} setIsLoadingData={setIsLoadingData} component={Mesto}\n              />\n\n              {/* Если пользователь авторизировался, ему нельзя посещать эти страницы. Не знаю как реализовать, обычная запись не работает */}\n              {/* {\n                !loggedIn ? (\n                <> */}\n                  <Route path={`${appUrl}/signup`}>\n                    <Register submitFormReg={submitFormReg} isLoadingData={isLoadingData} />\n                  </Route>\n                  <Route path={`${appUrl}/signin`}>\n                    <Login submitForm={submitFormLogin} isLoadingData={isLoadingData} />\n                  </Route>\n                {/* </>\n                ) : null\n              } */}\n\n              <Route path='*'>\n                { loggedIn ? (\n                  <Redirect to={`${appUrl}/mesto`} />\n                  ) : (\n                  <Redirect to={`${appUrl}/signin`} />\n                )}\n              </Route>\n              {/* <Route path='*'>\n                <h1 style={mainText}>\n                  404\n                </h1>\n              </Route> */}\n            </Switch>\n          </LogicsAllPopups.Provider>\n        </CardListContext.Provider>\n      </CurrentUserContext.Provider>\n    </ValidationFormContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}